package tests;

import java.io.File;
import java.io.FilenameFilter;
import java.io.IOException;
import java.util.ArrayList;

import utilities.InFile;

public class GetTabCols
{
	public static void main(String args[])
	{
		File headerFile = new File("resources\\columnNames.txt");
		
		String basePath = "C:\\Users\\Robbie\\Documents\\dissertation\\Data\\elections";
		File[] tabFiles = new File(basePath + "\\EDAD").listFiles(new FilenameFilter()
			{
				public boolean accept(File dir, String name)
				{
					return name.endsWith(".tab");
				}
			});
		
		InFile in = null;
		ArrayList<String> cols = new ArrayList<String>();
		String line;
		String[] lineArr;
		try
		{
			in = new InFile(headerFile);
			while ((line = in.readLine()) != null)
				cols.add(line);
			
			for (File f : tabFiles)
			{
				in = new InFile(f);
				lineArr = in.readRowLite("\t");
				for (int i = 0; i < lineArr.length; i++)
				{
					if (cols.contains(lineArr[i]))
						
				}
//				for (String piece : line)
//				{
//					if (piece.matches("^g\\d{4}_.*"))
//						piece = "gYYYY" + piece.substring(5);
//					if (piece.matches("^r\\d{4}_.*"))
//						piece = "rYYYY" + piece.substring(5);
//					
//					if (!cols.contains(piece))
//						cols.add(piece);
//				}
			}
		}
		catch (IOException e)
		{
			e.printStackTrace();
		}
		
		for (String col : cols)
			System.out.println(col);
	}
}
